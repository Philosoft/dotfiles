= GNUPLOT-HOWTO =

%toc

== Что такое gnuplot? ==
Это универсальная программа для вывода графической информации на экран, на принтер, в файл и на другие устройства. Gnuplot имеет версии для всех наиболее распространенных платформ (операционных сиcтем). В качестве "терминала", то есть, устройства вывода, могут быть указаны:
- алфавитно-цифровой терминал
- графический терминал (в Linux это теминал X-Windows)
- принтер
- файл в одном из графических форматов ps, gif, jpg, и т.д.

== Как использовать gnuplot? ==

Есть два основных способа:
=== Способ 1. ===
Наберите команду gnuplot в командной строке. После запуска программы появится приглашение:
gnuplot>
Теперь можно вводить команды с клавиатуры. Например, строка
gnuplot> plot "xyz.dat" use 1:2 with lines
вызовет создание окна с графиком зависимости, данные для которой берутся из 1 колонки файла xyz.dat для Х-оси и 2 колонки - для Y-оси. Параметр with lines (можно просто w l) указывает, что график нужно строить в виде линии.

=== Способ 2. (более удобный) ===
Gnuplot может считывать команды из предложенного ему файла (обычно - с расширением .gnu). Например, команда gnuplot howtoplot.gnu приведет к выполнению команд из файла howtoplot.gnu, который, например, может быть устроен так:

#-этот символ начинает строку комментариев
{{{
# ниже - содержимое файла howtoplot.gnu
set xrange [-10:10]
# установили масштаб по Х
set yrange [-2:2]
# установили масштаб по Y
plot x, sin(x) "xyz.dat" u 1:2 w p
# рисовать график функции y=x функции y=sinx и график зависимости
#из первой и второй колонoк файла xyz.dat,
# зависимость строить в виде точек (w p=with points)
pause -1
# ждать до первого нажатия клавиши
}}}

== Какие стили изображения бывают? ==
Для двумерных графиков наиболее употребительны:
w l (with lines) - рисовать график линией
w d (with dots) - рисовать точками минимального размера
w p (with points) - рисовать точками-символами разной формы
w i (with impulses) - рисовать колонками-столбцами гистограммы

== Как управлять цветом графика? ==
По умолчанию gnuplot изображает одновременно выводимые графики гаммой цветов. Цвет можно явно указать в команде plot после стиля графика

{{{plot "xyz.dat" u 1:2 w p 2}}}

Здесь цифра "2" указывает цвет линии. Можно использовать как положительные, так и отрицательные значения (например, "-1" - жирная линия черного цвета).
Как построить одновременно несколько графиков?
Чтобы построить одновременно несколько графиков из данных, записанных в колонках одного файла, нужно несколько раз считать эти данные из файла в одной и той же команде plot

plot "xyz.dat" u 1:2 , "xyz.dat" u 1:3 , "xyz.dat" u 2:3

== Как задать масштаб по осям? ==
Команды:
set autoscale x
set autoscale y - устанавливают автоматическое масштабирование (по умолчанию)
set xrange[x1;x2] - устанавливают пределы X-оси от х1 до х2
set xrange[y1;y2] - устанавливают пределы Y-оси от y1 до y2
set logscale x - логарифмическая шкала по Х
Как построить последовательно несколько графиков?
plot "xyz.dat" u 1:2
pause -1
plot "xyz.dat" u 1:3
pause -1
plot "xyz.dat" u 2:3
pause -1

В приведенном выше примере выводится 3 графика последовательно, после нажатия клавиши.

== Как задать заголовок и подписи по осям? ==
set title - заголовок
set subtitle - подзаголовок
set xlable - надпись по оси Х
set ylable - надпись по оси Y
Как убрать выводимые по умолчанию легенды?
set nokey
Как записать полученный график в .eps-файл?
До команды plot нужно задать 2 параметра, тип терминала и имя файла вывода.

set term "postscript" eps
set output "outfile.eps"

== Как получить больше информации об использовании gnuplot? ==
Запустить программу gnuplot, а затем набрать в командной строке:

help

Будет предложен набор подразделов, по которым есть файлы помощи. Для получения дальнейшей информации нужно набрать имя подраздела.

Src: http://chaos.ssu.runnet.ru/K52/Bibl/gnuplot.html

wxwidgets позволяет вертеть 3д график интерактивно
менять способ рисования set data style lp|dots|points

== Построить простую функцию ==
set xtics 1
set ytics 1
set xrange [10:10]
set yrange [10:10]
f(x) = x*x + 2*x +1
f1(x) = 0
plot f(x), f1(x)

set term postscript eps enhanced color
set output "out.ps"
plot
