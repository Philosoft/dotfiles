//=================================
//FFDozoryPlugin аддон.
//Название: obkast v0.9
//Автор: adsarARXANGEL
//=================================
//Данный аддон распространяется по принципу "as is".
//Используйте его на свой страх и риск.
//Автор не несет ответственность за убытки, понесенные пользователем
//или третьими  лицами в результате использования аддона.
/*
ID заклинаний		

Универсальная		

Уровень	Название                   ID
вк      =============================
        Групповой плащ	          159
	      Групповой портал	        134
	      Массовое Рассеивание	    220
	      Отражение	                157
	 	 	 	Широкая сфера	            158
1	      =============================
        Белое марево	            56
	      Индивидуальный портал	    133
	      Марево Трансильвании      53
	      Плащ Тьмы               	156
	      Радужная сфера            54
	 	 	 	Рассеивание             	245
2	      =============================
        Свобода                 	55
	      Сковывание              	154
	      Фриз	                    52
	      Вогнутый щит	            169
	      Защитная стена            44
	 	 	 	Отрицание	                153
4	      =============================
        Заклятие незначительности	139
	      Марево	                  151
	      Поиск по ауре	            132
	 	 	 	Снятие проклятия	        43
5	      ============================= 
        Проверить ауру	          141
	 	 	 	Сфера отрицания	          42
6	      =============================  
        Защита от зондирования    40
	      Отвод глаз                150
	      Передача энергии        	197
	      Пресс	                    41
	 	 	 	Тройной кинжал	          50
7       =============================  
        Заметание следов	        203
	      Обратить к Свету        	136
	      Обратить к Тьме	          137
	      Проклятие	                37
	      Реморализация	            135
	      Сбор энергии	            138
	      Слепок ауры	              131
	      Щит мага	                38

Колдовство		

Уровень	Название	ID
1	Белый Меч	90
	Плеть Шааба	89
2	Групповой Файербол	86
	Молния	88
3	Паучье Пламя	92
4	Защита Лужина	51
	Разящая Молния	85
5	Файербол	84
6	Цепной Разряд	181
7	Вифлиемский Огонь	87

Кудесничество		

Уровень	Название	ID
1	Метеорный Дождь	83
2	Ледяная Буря	91
3	Хрустальный Щит	80
	Цветные Брызги	76
4	Зеркальные Подобия	140
	Подмена	182
	Стена Огня	77
5	Морок	74
	Осколок Льда	206
6	Ледяная Стена	79
	Огненный Щит	78
7	Лед	73

Некромантия		

Уровень	Название	ID
1	Прорыв Инферно	58
	Тень Владык	253
2	Круг Смерти	72
	Иссушение	188
3	Поднять Мертвецов	0
	Танатос	71
	Щит Танатоса	186
4	Смертельный Перст	185
5	Отрицание Неживого	183
6	Распад	81
	Устрашение	116
7	Леденящее Прикосновение	67
	Отрицание Смерти	69

Прорицание		

Уровень	Название	ID
1	Исправление Вероятностей	163
	Разрушение Вероятностей	162
2	Ажиотаж	212
	Защитный Экран	45
	Полный Анализ	143
	Внимание	248
3	Колпак Закрытия	46
	Око Мага	161
4	Анализ	142
5	Любимец Фортуны	61
6	Злой Рок	62
7	Ясновидение	59

Целительство		

Уровень	Название	ID
1	Магическое Исцеление	34
	бег	257
2	Паутина	213
	Целебный Круг	36
3	Магическое Излечение	32
	Горсть Таблеток	256
	Опьянение	214
	Усыпить	4
4	Отрезвление	23
5	Заговор Ран	22
	Замедление	28
	Ослабление	32
	Сила	27
	Таблетка	255
	Ход	24
6	Слепота	20
7	Косметическая Магия	19

Чары		

Уровень	Название	ID
1	Массовое Очарование	17
	Успокаивающая Пелена	12
	Фобос И Деймос	217
	Рассеянность	249
2	Барьер Воли	211
	Опиум	15
	Паника	16
3	Погрузить В Ступор	11
	Щит Разума	18
4	Развеять Чары	13
5	Заклинание Почтительности	5
6	Отгораживание Сознания	7
	Отшатывание	10
7	Очарование	6

Вампиризм		

Уровень	Название	ID
2	Кровавый Туман	149
3	Вампирская Регенерация	147
	Гипнотический Взгляд	148
	Щит Крови	246
4	Крылья Смерти	210
	Трансформация Вампира	129
5	Коготь Смерти	146
6	Вампирский Оскал	219
	Вампирское Восстановление	63
	Зов	145
7	Вампирское Обаяние	115
	Преображение	144
	Укусить Человека	199

Ведовство		

Уровень	Название	ID
1	Чума	250
2	Сон	179
	Щит знаний	232
3	Хищные птицы	82
4	Смена облика	177
5	Сглаз	105
6	Ведьмовской взгляд	100
	Гримаса кикиморы	174
7	Истинное лицо	251
	Паранджа	101

Обворожение		

Уровень	Название	ID
1	Брэйнсторм	236
	Массовое Очарование	230
	Страх И Ужас	228
	Успокаивающая Пелена	229
2	Демонические Призраки	225
	Ледяная Кора	226
	Морфей	221
	Сизифов Труд	234
	Щит Эмоций	231
3	Головная Боль	207
	Ментальный Щит	192
	Ускорение	235
4	Разящее Око	97
	Снять Чары	224
5	Поцелуй Ехидны	216
	Стрела Амура	215
6	Защитный Полог	39
7	Вуаль	190
	Обворожение	99
	Смертельный Поцелуй	191

Оборотничество		

Уровень	Название	ID
1	Воинственный вой	237
	Дитя ночи	240
	Медвежья хватка	239
	Оглушающий рык	241
	Прыжок смерти	238
2	Ярость	160
3	Волшебная Шкура	233
	Регенерация	193
4	Волшебный Коготь	66
5	Волшебный Клык	65
6	Восстановление	64
7	Загрызть Человека	198
	Сбор Энергии	202
	Трансформация Оборотня	130
*/

if(document.location.pathname=="/cgi-bin/main.cgi" && typeof __act != "undefined")
{
  //Настройки:
  //Меню будет на
  //значке орги
  var bindImg="/img/znaki/";

  //или на аве
  //var bindImg = "/img/avatar/";

  // Максимально допустимое ко-во кастов одного закла
  var maxTries=0; 

  //Список кастов в формате:
  // текст отображаемый в меню.
  //   пример: 'Ход на +'
  //
  // Требуемый результат каста:
  //   Если 0, то результат каста не важен.;
  //
  // Параметры запроса к серверу или javascript код
  //    запрос - эта строка будет добавлена к "/cgi-bin/main.cgi?";
  //      пример: "act=spell_24_" + __act + "&rm=action"
  //    javascript - строка начинается с "EVAL:",
  //      вызываемый код должен возвращать null при ошибке.
  //      пример: "EVAL:myFunction(param1, param2)"
  //
  // Регулярное выражение для выделения из ответа
  //   сервера результата каста. Вызывается так:
  //   encodeURI(response).replace(spell[3], "$3");
  //   пример: /(.*)(uskoren\.gif\'\,\'.{100}\+([0-9]{1,}))(.*)/
  //
  // Номер цепочки кастов:
  //   0 - индивидуальный каст (не включается в цепочку)
  //   Номера цепочек должны начинаться с 1 и итди подряд.
  //   Рекомендуется в цепочках заклы ставить в порядке "тяжелые"
  //   (требуется кастовать много раз для получения результата) 
  //   - "легкие". Либо ставить в конец заклы с не продолжительным
  //   временем действия (например ярость).

  var spells = new Array(
              //Одиночный закл: энка
              Array(
                "Энка",              //Текст меню
                0,                   //Требуемый результат каста
                "EVAL:get_energy()", //Запрос (трансформ в вампира), get_energy(true) - трансформ в крысу
                "fake",              //Рег. выр.'
                0                    //Индивидуальный каст
              ),
             //Индивидуальный каст хода
             Array(
               "Ход",                                              //Текст меню
                0,                                                 //Требуемый результат каста
                "act=spell_24_" + __act + "&rm=action",            //Запрос
                /(.*)(uskoren\.gif\'\,\'.{100}\+([0-9]{1,}))(.*)/, //Рег. выр.'
                0                                                  //Индивидуальный каст
            ),
    	    //Индивидуальный каст ЛФ
    	    Array(
              "ЛФ", //Текст меню
              0, //Требуемый результат каста
              "act=spell_61_" + __act + "&rm=action", //Запрос
              /(.*)(udachliv\.gif\'\,\'.{82}\+([0-9]{1,}))(.*)/, //Рег. выр.'
              0 //Индивидуальный каст
        ),
		//Индивидуальный каст Магическое излечение
	    Array(
              "Магическое излечение", //Текст меню
              0, //Требуемый результат каста
              "act=spell_32_" + __act + "&rm=action", //Запрос
              "fake", //Рег. выр.'
              0 //Индивидуальный каст
        ),
		//Индивидуальный каст Щит Разума
		Array( 
 		      "Щит Разума", //Текст меню
 		      0, //Требуемый результат каста 
 		      "act=spell_18_" + __act + "&rm=action", //Запрос
 		      "fake", //Рег. выр.'
 		      0 //Индивидуальный каст
 		     ),
		//Каст артефактов 142-Шёлк, 141 - Метла, 140 - Пыль, 424 - Духи и т.д.
	    Array(
              "Арты (Шёлк)", //Текст меню
              0, //Требуемый результат каста
              "EVAL:cast_arts(142,'ri')", //Запрос через запятую, если не один арт + 2ое значение у каждого поиск арта: только рюкзак r, только инвентарь i, сначало в инвентаре ir, сначало в рюкзаке - ri, id=id арта
              "fake", //Рег. выр.'
              0 //Индивидуальный каст
        ), //Пример Шёлк только из рюкзака с id 123456 "EVAL:cast_arts(142,'r&id=123456')" 

        //Цепочка кастов номер 1
        //КС-Реморализация
	    //Array("",0,"rm=mr&spell_72=-",null,1),
		//Array("",0,"rm=mr&spell_135=%2B",null,1),
        //Array(
        //      "Реморализация", //Текст меню
        //      0, //Требуемый результат каста
        //      "act=spell_135_"+__lact+"&rm=action", //Запрос
        //      "fake", //Рег. выр.'
        //      1 //Номер цепочки
        //),
	    //Реморализация-КС
		//Array("",0,"rm=mr&spell_135=-",null,1),
		//Array("",0,"rm=mr&spell_72=%2B",null,1),
	    //энка
        Array(
              "Энка", //Текст меню
              0, //Требуемый результат каста
              "EVAL:get_energy()", //Запрос (трансформ в вампира), get_energy(true) - трансформ в крысу
              "fake", //Рег. выр.'
              1 //Номер цепочки
        ),
	    //каст ЛФ
        Array(
              "ЛФ", //Текст меню
              0, //Требуемый результат каста
              "act=spell_61_" + __act + "&rm=action", //Запрос
              /(.*)(udachliv\.gif\'\,\'.{82}\+([0-9]{1,}))(.*)/, //Рег. выр.'
              1 //Номер цепочки
        ),
        //каст хода
        Array(
              "Ход", //Текст меню
              0, //Требуемый результат каста
              "act=spell_24_" + __act + "&rm=action", //Запрос
              /(.*)(uskoren\.gif\'\,\'.{100}\+([0-9]{1,}))(.*)/, //Рег. выр.'
              1 //Номер цепочки
        ),
        //энка
        Array(
              "Энка", //Текст меню
              0, //Требуемый результат каста
              "EVAL:get_energy()", //Запрос (трансформ в вампира), get_energy(true) - трансформ в крысу
              "fake", //Рег. выр.'
              1 //Номер цепочки
        ),

        //Цепочка кастов номер 2
        //ДЛЯ ВАМПИРОВ
        //если надо трансформ и пьём кровь
        Array(
              "Энка (пьём кровь) -> вампир", //Текст меню
              0, //Требуемый результат каста
              "EVAL:get_energy();", //Запрос (трансформ в вампира), get_energy(true) - трансформ в крысу
              "fake", //Рег. выр.
              2 //Номер цепочки
        ),
        //Крылья
        Array(
              "Крылья", //Текст меню
              0, //Требуемый результат каста
              "act=spell_210_" + __act + "&rm=action", //Запрос
              /(.*)(uskoren\.gif\'\,\'.{97,104}\+([0-9]{1,}))(.*)/, //Рег. выр.'
              2 //Номер цепочки
        ),
        //Коготь
        Array(
              "Коготь", //Текст меню
              0, //Требуемый результат каста
              "act=spell_146_" + __act + "&rm=action", //Запрос
              /(.*)(usilen\.gif\'\,\'.{70}\+([0-9]{1,}))(.*)/, //Рег. выр.'
              2 //Номер цепочки
        ),
        //Туман +
        Array(
              "Туман", //Текст меню
              0, //Требуемый результат каста
              "act=spell_149_" + __act + "&rm=action", //Запрос
              /(.*)(razyaren\.gif\'\,\'.{51}([0-9]{1})\'\,\'\'\,)(.*)/, //Рег. выр.'
              2 //Номер цепочки
        ),

        //Цепочка кастов номер 3
        //ДЛЯ ОБОРОТНЕЙ
        //если надо трансформ и грызем чела
        Array(
              "Энка (грызем чела)", //Текст меню
              0, //Требуемый результат каста
              "EVAL:get_energy();", //Запрос (трансформ в вампира), get_energy(true) - трансформ в крысу
              "fake", //Рег. выр.
              3 //Номер цепочки
        ),
        //Коготь
        Array(
              "Коготь", //Текст меню
              0, //Требуемый результат каста
              "act=spell_66_" + __act + "&rm=action", //Запрос
              /(.*)(uskoren\.gif\'\,\'.{97,104}\+([0-9]{1,}))(.*)/, //Рег. выр.'
              3 //Номер цепочки
        ),
		//Клык
        Array(
              "Клык", //Текст меню
              0, //Требуемый результат каста
              "act=spell_65_" + __act + "&rm=action", //Запрос
              /(.*)(usilen\.gif\'\,\'.{70}\+([0-9]{1,}))(.*)/, //Рег. выр.'
              3 //Номер цепочки
        ),
        //Яра
        Array(
              "Яра", //Текст меню
              0, //Требуемый результат каста
              "act=spell_160_" + __act + "&rm=action", //Запрос
              /(.*)(razyaren\.gif\'\,\'.{51}([0-9]{1})\'\,\'\'\,)(.*)/, //Рег. выр.'
              3 //Номер цепочки
        ),
		
        //Цепочка кастов номер 4
        //ДЛЯ ИНКУБОВ
        //Одиночный закл: энка
        Array(
              "Энка", //Текст меню
              0, //Требуемый результат каста
              "EVAL:get_energy();", //Запрос (трансформ в вампира), get_energy(true) - трансформ в крысу
              "fake", //Рег. выр.
              4 //Номер цепочки
        ),
        //Вуаль
        Array(
              "Вуаль", //Текст меню
              0, //Требуемый результат каста
              "act=spell_190_" + __act + "&rm=action", //Запрос
              "fake", //Рег. выр.'
              4 //Номер цепочки
        ),
        //Ментал
        Array(
              "Ментальный щит", //Текст меню
              0, //Требуемый результат каста
              "act=spell_192_" + __act + "&rm=action", //Запрос
              "fake", //Рег. выр.'
              4 //Номер цепочки
        ),
        //Ход
        Array(
              "Ускорение", //Текст меню
              0, //Требуемый результат каста
              "act=spell_235_" + __act + "&rm=action", //Запрос
              /(.*)(uskoren\.gif\'\,\'.{100}\+([0-9]{1,}))(.*)/, //Рег. выр.'
              4 //Номер цепочки
        )
        //Тут можно добавить свое
);
//Конец настроек
}
