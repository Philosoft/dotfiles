<a href="http://www.freedesktop.org/wiki/Software/dbus">D-Bus</a> — это система межпроцессного взаимодействия, разработанная в рамках проекта <a href="http://www.freedesktop.org/wiki/">freedesktop.org</a>. Подробнее можно почитать например на <a href="http://ru.wikipedia.org/wiki/D-Bus">википедии</a>.
В рамках данной заметки D-Bus будет рассматриваться и использоваться исключительно как способ контролировать графические приложения из консоли.<cut>
Являясь поклонником двухпанельных файловых менеджеров типа krusader'а (в основном из-за возможности управляться с ними исключительно используя клавиатуру) и выпадающих терминалов типа yakuake (удачное и удобное решение при наличии нескольких рабочих столов), всегда задавался вопросом как улучшить их взаимную интеграцию, а также прикрутить полезные возможности второго к первому. 
Выношу вам на суд своё решение этой проблемы:
<table class="highlighttable" id="1839"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><a name="line-1"></a><span class="c">#!/bin/bash</span>
<a name="line-2"></a><span class="k">if</span> &lt; <span class="sb">`</span>qdbus org.krusader /krusader/MainWindow_1 Get com.trolltech.Qt.QWidget visible<span class="sb">`</span> <span class="o">=</span> <span class="nb">true</span> &gt;
<a name="line-3"></a><span class="k">then</span>
<a name="line-4"></a><span class="k">        </span>qdbus org.krusader /krusader/MainWindow_1 com.trolltech.Qt.QWidget.hide       
<a name="line-5"></a><span class="k">else</span>
<a name="line-6"></a><span class="k">        </span>qdbus org.krusader /krusader/MainWindow_1 com.trolltech.Qt.QWidget.show
<a name="line-7"></a><span class="k">fi</span>
</pre></div>
</td></tr></table>
Как несложно понять, этот микроскопический скрипт прячет окно krusader'а, если оно не спрятано, и показывает в противном случае. Запуск скрипта у меня висит на комбинации клавиш super+space. Достаточно удобный способ быстро достучаться до менеджера фалов на каком рабочем столе бы вы не находились (конечно krusader должен запускаться вместе с kde и сворачиваться после старта в область уведомлений, что несложно настроить в настройках самой программы).
Так как нередко возникает необходимость открыть окно терминала в каталоге, уже открытом в панели файлового менеджера, был написан ещё один микро-скрипт:
<table class="highlighttable" id="1840"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><a name="line-1"></a><span class="c">#!/bin/bash</span>
<a name="line-2"></a>qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.addSession
<a name="line-3"></a>qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.runCommand <span class="s2">"cd \"`pwd`"</span><span class="se">\"</span>
<a name="line-4"></a>qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.runCommand clear
<a name="line-5"></a>qdbus org.kde.yakuake /yakuake/window org.kde.yakuake.toggleWindowState
</pre></div>
</td></tr></table>
Скрипт висит в krusader'е в качестве действия по комбинации клавиш Alt+Y. При запуске он добавляет в запущенный в фоне yakuake новую вкладку, выполняет там переход в нужный каталог, очищает терминал, ну и вызывает окно терминала на передний план.
Поскольку при таком подходе владки в терминале начали множиться достаточно активно, возникла необходимость индетификации каждой из вкладок, для этого в ~/.bashrc была добавлена следующая строка: 
<table class="highlighttable" id="1841"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><a name="line-1"></a><span class="nb">export </span><span class="nv">PROMPT_COMMAND</span><span class="o">=</span><span class="s1">&#39;~/.bin/scripts/terminal_title.bash 1&gt;/dev/null 2&gt;/dev/null&#39;</span>
</pre></div>
</td></tr></table>
Теперь перед каждым показом приглашения командной строки bash будет выполнять скрипт ~/.bin/scripts/terminal_title.bash
А вот и содержимое самого скрипта:
<table class="highlighttable" id="1842"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><a name="line-1"></a><span class="c">#!/bin/bash</span>
<a name="line-2"></a><span class="k">if</span> &lt; <span class="sb">`</span>qdbus org.kde.yakuake /yakuake/MainWindow_1 Get com.trolltech.Qt.QWidget isActiveWindow<span class="sb">`</span> <span class="o">=</span> <span class="nb">true</span> &gt; 
<a name="line-3"></a><span class="k">then </span>
<a name="line-4"></a><span class="k">        </span>qdbus org.kde.yakuake /yakuake/tabs setTabTitle <span class="sb">`</span>qdbus org.kde.yakuake /yakuake/sessions activeSessionId<span class="sb">`</span> <span class="s2">"`pwd`"</span> 1&gt;/dev/null 2&gt;/dev/null 
<a name="line-5"></a><span class="k">fi</span>
</pre></div>
</td></tr></table>
Скрипт проверят акривно ли окно yakuake и устанавливает в качестве названия вкладки адрес каталога, который в этой вкладке открыт.
Было бы интересно узнать кто ещё какие приёмы, облегчающие работу за компьютером, использует.