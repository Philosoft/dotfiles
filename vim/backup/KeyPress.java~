import java.awt.*;
import java.awt.event.*;

public class KeyPress extends Frame{
	Label label;
	TextField txtField;
	public static void main(String[] args) {
		KeyPress k = new KeyPress();
	}

	public KeyPress(){
		super("Key Press Event Frame");
		Panel panel = new Panel();
		label = new Label();
		txtField = new TextField(20);
		txtField.addKeyListener(new MyKeyListener());
		add(label, BorderLayout.NORTH);
		panel.add(txtField, BorderLayout.CENTER);
		add(panel, BorderLayout.CENTER);
		addWindowListener(new WindowAdapter(){
			public void windowClosing(WindowEvent we){
				System.exit(0);
			}
		});
		setSize(400,400);
		setVisible(true);
	}

	public class MyKeyListener extends KeyAdapter{
		private long time_p;
		private long time_r;
		private double diff;
		private int flag = 1;
		public void keyPressed(KeyEvent ke){
			if(flag == 1){
				time_p = System.currentTimeMillis();
				flag = 0;
			}
		//	System.out.println("Key pressed @: " + Long.toString(time_p));
			char i = ke.getKeyChar();
			String str = Character.toString(i);
			label.setText(str);
		}
		public void keyReleased(KeyEvent ke){
			time_r = System.currentTimeMillis();
			flag = 1;
		//	System.out.println("Key released @: " + Long.toString(time_r));
			diff = (time_r - time_p) / 1000;
			System.out.println("diff = " + Double.toString(diff));
		}
	}	
}
