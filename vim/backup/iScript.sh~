#!/bin/bash

### Watch 4 etc
# @function addwatch
# params:
#   $1 - dir for watch
#   $2 - events in inotify-tools notation (e.g. -e create)
#   $3 - action on event (e.g. bash somescript or similar)
addwatch()
{
    # human-readable transform
    dir="$1"
    events="$2"
    action="$3"

    inotifywait -rm $actions $dir | while read event
    do
        echo 'В каталоге /etc произошло важное событие:';
        echo "$line";
        $action;
    done
}
 -e create -e delete -e modify /etc
### Watch 4 /bin
inotifywait -rm -e modify /bin
inotifywait -rm -e modify /usr/bin
