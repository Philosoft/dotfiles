R00	EQU 0;   \                        опнцпюллю, бшбндъыюъ мю фй-хмдхйюрнп,
R01	EQU 1;   |                        сярюмнбкеммши мю окюрс EB-552
R02	EQU 2;   |                        рейсыее бпелъ (вюяш,
R03	EQU 3;    \                       лхмсрш, яейсмдш),дюрс (вхякн, леяъж, цнд, демэ медекх)
R04	EQU 4;    /    аюмй пецхярпнб 0   
R05	EQU 5;   |                         лхйпняуелни вюянб PCF8583
R06	EQU 6;   |                        сопюбкъер йнмрпнккеп PCF80C552,пюяонкнфеммши мю окюре
R07	EQU 7;   /  			    EB-552 тхплш йрж-лй, он ьхме I2C.
;
P1	EQU 090H
P10	EQU 090H
P11	EQU 091H
P12	EQU 092H
P13	EQU 093H
P14	EQU 094H
P15	EQU 095H
P16	EQU 096H
P17	EQU 097H
DPL	EQU 083H
DPH	EQU 082H
ACC	EQU 0E0H
SP	EQU 081H
; 7FC0H гюохяэ б пецхярп йнлюмд (юдпея пецхярпю гюохях йнлюмд йнмрпнккепю PCF80C552)
; 7FC1H времхе хг пецхярпю йнлюмд
; 7FC2H гюохяэ б пецхярп дюммшу
; 7FC3H времхе хг пецхярпю дюммшу
  ORG 8000H
;
    CALL DELT
    CALL UST
    CALL NAD
    CALL DELT
    CALL CLEAR
    MOV P1,#11111111B

UST:
;
  MOV DPTR,#7FC0H
  MOV A,#11111111B
  MOVX @DPTR,A
  CALL DEL4MS
;
  MOV A,#00111000B	;DL=1, N=0, F=0
  MOVX @DPTR,A
  CALL DEL4MS
;йнлюмдю сопюбкемхел бйк./бшйк. хмдхйюрнпю
;
  MOV A,#00001100B	; D=1, C=0, B=0
  MOVX @DPTR,A
  CALL DEL1MS
;
;юбрнхмйпелемр
;
  MOV A,#00000110B	; I/D=1, S=0
  MOVX @DPTR,A  
  CALL DEL4MS
;
  MOV A,#00011000B	; S/C=0,R/L=1
  MOVX @DPTR,A  
  CALL DEL1MS
  RET
;
NAD: 
     CALL CLEAR
     MOV R05,#5
     MOV A,#00000000B
     MOV R00,#00000000B
FR:  
     MOV DPTR, #TABM
     MOVC A,@A+DPTR
     MOV DPTR,#7FC2H
     MOVX @DPTR,A
     MOV A,R00
     INC A
     MOV R00,A
     CALL DEL4MS
     DJNZ R05,FR
;
  RET
;
; ондопнцпюллю нвхярйх хмдхйюрнпю мю окюре EB552
CLEAR:
  MOV DPTR,#7FC0H
  MOV A,#00000001B	;нвхярйю
  MOVX @DPTR,A
  CALL DEL4MS
  RET
;
DELT:
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  CALL DEL64MS
  RET
;
DEL64MS:
  CALL DEL16MS
  CALL DEL16MS
  CALL DEL16MS
  CALL DEL16MS
  RET
;
;
DEL16MS:
  CALL DEL4MS
  CALL DEL4MS
  CALL DEL4MS
  CALL DEL4MS
  RET
;
;
DEL4MS:
  CALL DEL1MS
  CALL DEL1MS
  CALL DEL1MS
  CALL DEL1MS
  RET
;
;
DEL1MS:
MOV R01,#25
;
LREX:	MOV  R02,#18
LRIN:	DJNZ R02,LRIN
;
  DJNZ R01,LREX
  RET
;
UU:

   MOV R01,#8

EX:	MOV  R02,#1
IN:	DJNZ R02,IN
;
  DJNZ R01,EX
  RET
;
TABM:
DB 'H', 'E', 'L', 'L', 'O'
;
  END
