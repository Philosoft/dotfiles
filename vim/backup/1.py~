#!/usr/bin/python 
#*-* coding: utf-8 *-*

import sys
import hashlib
from optparse import OptionParser

parser = OptionParser()
parser.add_option("-i", "--input-file",  dest="fin", help="input filename", metavar="FILE")
parser.add_option("-o", "--output-file", dest="fout", help="output filename", metavar="FILE")

(options, args) = parser.parse_args()

try:
  fin = open(options.fin, "r")
  fout = open(options.fout, "w")
except IOError:
  print "Хуита какая-то"
  sys.exit()

str = '1'
md5 = hashlib.md5()

while str != '':
  str =  fin.readline()
  md5.update(str)
  fout.write(md5.hexdigest())
  fout.write("\n")
